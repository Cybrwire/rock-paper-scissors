<!DOCTYPE html>
<html>
    <head>
        <link rel="reset" href="/css/reset.css"/>
        <link rel="stylesheet" type="text/css" href="/css/style.css"/>
        <title>Rock Paper Scissors</title>
            
            
    </head>
    <body>
        <div id='buttons'>
            <button type='button' id='r' onClick='playRound(this.textContent)'>Rock</button>
            <button type='button' id='p' onClick='playRound(this.textContent)'>Paper</button>
            <button type='button' id='s' onClick='playRound(this.textContent)'>Scissors</button>
        </div>
        
    <script>
        // get computer move
        function comPlay(){
            let num = Math.floor(Math.random() * 3);
            let choice = '';
            switch(num){
                case 0:
                    return choice = 'Rock';
                case 1: 
                    return choice = 'Paper';
                case 2:
                    return choice = 'Scissors';
            }
        }
        //get user move
        
        function displayResult(winner, gameText){
            const result = document.createElement('div');
            result.textContent = (gameText);
            buttons.appendChild(result);
        };

        //compare moves to determine winner
        //This is one round of five
        //returns win if user wins, lose if computer wins, and tie if tie
        function playRound(user){   
                 
            com = comPlay();
            let gameText = `You chose ${user}. Com chose ${com}. `;

            let winner;
            switch(com){
                case ('Rock'):
                    if (user == 'Rock'){
                        winner = 'tie';
                        gameText += 'Tie. Next round.';
                    }
                    else if (user == 'Paper'){
                        winner = 'You';
                        gameText += 'Round Win! Paper beats Rock!';
                    }
                    else if (user == 'Scissors'){
                        winner = 'Com';
                        gameText += 'Round Lose! Rock beats Scissors';
                    }
                    break;
                case ('Paper'):
                    if (user == 'Rock'){
                        winner = 'Com';
                        gameText += 'Round Lose! Paper beats Rock!';
                    }
                    else if (user == 'Paper'){
                        winner = 'tie';
                        gameText += 'Tie. Next round.';
                    }
                    else if (user == 'Scissors'){
                        winner = 'You';
                        gameText += 'Round Win! Scissors beats Paper!';
                    }
                    break;
                case ('Scissors'):
                    if (user == 'Rock'){
                        winner = 'You';
                        gameText += 'Round Win! Rock beats Scissors!';
                    }
                    else if (user == 'Paper'){
                        winner = 'Com';
                        gameText += 'Round Lose! Scissors beat Paper!';
                    }
                    else if (user == 'Scissors'){
                        winner = 'tie';
                        gameText += 'Tie. Next round.';
                    }
                    break;
                
                
            }
            
            displayResult(winner, gameText);
            
        }
        //game will play for 5 rounds
        function game(userPlay){
            let rounds = 0;
            let userScore = 0;
            let comScore = 0;
            
            //while(rounds < 5){
                let a = userPlay.toLowerCase();
                let b = comPlay();
                let result = playRound(a,b);
                if(result == 'win'){
                    userScore++;
                }else if(result == 'lose'){
                    comScore++;
                }else if(result == 'tie'){
                    
                }
                //rounds++;
                console.log("Your score: " + userScore);
                console.log("Computer score: " + comScore);

            //}
            //announce the winner
            let victor = (userScore > comScore) ? "You win!" : (comScore > userScore) ? "Computer wins!" : "It was a tie!";
            console.log(victor);
        }
        
    </script>
    </body>
    

</html>