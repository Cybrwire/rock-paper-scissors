<!DOCTYPE html>
<html>
    <head>
        <link rel="reset" href="/css/reset.css"/>
        <link rel="stylesheet" type="text/css" href="/css/style.css"/>
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        
        <div id='button-container'>
            <button type = 'button' id = 'r' onClick = 'playRound("Rock")'><img src='/images/rock.png' alt='rock(Art by: Icongeek26 - https://www.flaticon.com/authors/icongeek26)'></button>
            <button type = 'button' id = 'p' onClick = 'playRound("Paper")'><img src='/images/paper.png' alt='rock(Art by: Icongeek26 - https://www.flaticon.com/authors/icongeek26)'></button>
            <button type = 'button' id = 's' onClick = 'playRound("Scissors")'><img src='/images/scissors.png' alt='scissors(Art by: Freepik - https://www.flaticon.com/authors/Freepik'></button>
        </div>

        <div>
        <div id='result-panel'>
            <div id='result'></div>
        </div>
        
        <div id='userPoint'>
            <div>You</div>
            <div id='userScore'>0</div>
        </div>

        <div id='comPoint'>
            <div>Com</div>
            <div id='comScore'>0</div>
        </div>

    </div>

    <script>

        function comPlay(){ // get computer move
            let num    = Math.floor(Math.random() * 3);
            let choice = '';
            switch(num){
                case 0: 
                    return choice = 'Rock';
                case 1: 
                    return choice = 'Paper';
                case 2: 
                    return choice = 'Scissors';
            }
        };
        
        
        function displayResult(roundPoint, gameText){ 
            document.getElementById('result');
            result.innerHTML = gameText;
        };

        function addScore(roundPoint){
            const userScore = document.getElementById('userScore');
            const comScore = document.getElementById('comScore');
            
            if(roundPoint === "You"){
                userScore.innerHTML++;
            }
            if(roundPoint === "Com"){
                comScore.innerHTML++;
            }
            checkWinner(userScore.innerHTML, comScore.innerHTML);
            
        }

        function checkWinner(userScore, comScore){
            if (userScore == 5 || comScore == 5){
                const winner = document.createElement('div');
                result.innerHTML = (userScore > comScore) ? 'You win!' : 'Com Wins!';
                document.querySelectorAll('button').forEach(
                    button=>button.disabled=true);
            };  
        };

        //compare moves to determine winner
        //This is one round of five
        //returns You if user wins, Com if computer wins, and tie if tie
        function playRound(user){   
            com = comPlay();
            let gameText = `You chose ${user}. Com chose ${com}. `;
            let roundPoint;
            switch(com){
                case ('Rock'):
                    if (user == 'Rock'){
                        roundPoint = 'tie';
                        gameText += 'Tie. Next round.';
                    }
                    else if (user == 'Paper'){
                        roundPoint = 'You';
                        gameText += 'Round Win! Paper beats Rock!';
                    }
                    else if (user == 'Scissors'){
                        roundPoint = 'Com';
                        gameText += 'Round Lose! Rock beats Scissors.';
                    }
                    break;
                case ('Paper'):
                    if (user == 'Rock'){
                        roundPoint = 'Com';
                        gameText += 'Round Lose! Paper beats Rock!';
                    }
                    else if (user == 'Paper'){
                        roundPoint = 'tie';
                        gameText += 'Tie. Next round.';
                    }
                    else if (user == 'Scissors'){
                        roundPoint = 'You';
                        gameText += 'Round Win! Scissors beats Paper!';
                    }
                    break;
                case ('Scissors'):
                    if (user == 'Rock'){
                        roundPoint = 'You';
                        gameText += 'Round Win! Rock beats Scissors!';
                    }
                    else if (user == 'Paper'){
                        roundPoint = 'Com';
                        gameText += 'Round Lose! Scissors beat Paper!';
                    }
                    else if (user == 'Scissors'){
                        roundPoint = 'tie';
                        gameText += 'Tie. Next round.';
                    }
                    break;
            }
            displayResult(roundPoint, gameText);
            addScore(roundPoint);
        }
        
        
    </script>
    </body>
    

</html>